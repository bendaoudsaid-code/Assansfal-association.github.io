<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANSFAL - Association pour la Coopération, le Développement et l'Environnement</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* ==================== VARIABLES ET RESET ==================== */
        :root {
            --primary: #1a6d2c;
            --secondary: #2e8b57;
            --accent: #3cb371;
            --light: #f0f9f3;
            --dark: #145a32;
            --text: #333333;
            --white: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --admin: #ff9800;
            --webmaster: #9c27b0;
            --whatsapp: #25D366;
            --warning: #ff9800;
            --success: #4caf50;
            --danger: #f44336;
            --info: #2196F3;
            --dashboard-bg: #f5f5f5;
            --card-bg: #ffffff;
            --sidebar-bg: #2c3e50;
            --sidebar-text: #ecf0f1;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text);
            background-color: var(--white);
            transition: all 0.3s ease;
            padding-top: 40px;
        }

        h1, h2, h3, h4 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 1rem;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ==================== COMPTEUR VISITEURS ==================== */
        .visitor-counter {
            background-color: var(--info);
            color: white;
            padding: 8px 0;
            font-size: 0.85rem;
            text-align: center;
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .visitor-counter .container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .visitor-count {
            font-weight: bold;
            background: rgba(255,255,255,0.2);
            padding: 2px 10px;
            border-radius: 10px;
            font-size: 0.9rem;
        }

        /* ==================== LANGUAGE SWITCHER ==================== */
        .language-switcher {
            position: fixed;
            top: 45px;
            right: 15px;
            z-index: 1001;
            display: flex;
            gap: 5px;
        }

        .lang-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 5px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .lang-btn.active {
            background-color: var(--dark);
        }

        .lang-btn:hover {
            background-color: var(--secondary);
        }

        /* ==================== BARRE D'AUTHENTIFICATION ==================== */
        .auth-bar {
            position: fixed;
            top: 40px;
            left: 0;
            width: 100%;
            background: linear-gradient(135deg, var(--sidebar-bg), #4a6491);
            color: var(--sidebar-text);
            padding: 12px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 999;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .auth-form {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .auth-form input {
            padding: 8px 15px;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 4px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 14px;
        }

        .auth-form input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .auth-form button {
            background: var(--success);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        .auth-form button:hover {
            background: #219653;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-name {
            font-weight: bold;
            color: var(--sidebar-text);
        }

        .user-role {
            background: var(--primary);
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 12px;
        }

        .logout-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        .logout-btn:hover {
            background: #c0392b;
        }

        .hidden {
            display: none !important;
        }

        /* ==================== HEADER ==================== */
        header {
            background-color: var(--white);
            box-shadow: var(--shadow);
            position: fixed;
            width: 100%;
            top: 95px;
            z-index: 998;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 2rem;
            color: var(--primary);
        }

        .logo-text h1 {
            font-size: 1.5rem;
            margin-bottom: 0;
            color: var(--primary);
        }

        .logo-text p {
            font-size: 0.8rem;
            color: var(--secondary);
            margin-top: -5px;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        nav a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            transition: color 0.3s;
            padding: 5px 0;
            position: relative;
        }

        nav a:hover {
            color: var(--primary);
        }

        nav a.active {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
        }

        nav a:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: width 0.3s;
        }

        nav a:hover:after {
            width: 100%;
        }

        /* ==================== HERO SECTION ==================== */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80');
            background-size: cover;
            background-position: center;
            color: var(--white);
            text-align: center;
            padding: 180px 0 100px;
            margin-top: 95px;
        }

        .hero h2 {
            font-size: 3rem;
            color: var(--white);
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 30px;
        }

        .btn {
            display: inline-block;
            background-color: var(--accent);
            color: var(--white);
            padding: 12px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            border: 2px solid var(--accent);
        }

        .btn:hover {
            background-color: transparent;
            color: var(--accent);
        }

        /* ==================== SECTIONS ==================== */
        section {
            padding: 80px 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title {
            position: relative;
            display: inline-block;
            padding-bottom: 15px;
        }

        .section-title h2 {
            font-size: 2.5rem;
        }

        .section-title h2:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--accent);
        }

        /* ==================== DASHBOARD SECTION ==================== */
        .dashboard-section {
            display: none;
            background-color: var(--dashboard-bg);
            min-height: 100vh;
            padding-top: 95px;
        }

        .dashboard-section.active {
            display: block;
        }

        .dashboard-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
            min-height: calc(100vh - 95px);
        }

        /* Sidebar */
        .dashboard-sidebar {
            background: var(--sidebar-bg);
            color: var(--sidebar-text);
            padding: 30px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 5px;
        }

        .sidebar-menu a {
            display: block;
            padding: 15px 30px;
            color: var(--sidebar-text);
            text-decoration: none;
            transition: all 0.3s;
            border-left: 4px solid transparent;
        }

        .sidebar-menu a:hover {
            background: rgba(255,255,255,0.1);
            border-left-color: var(--accent);
        }

        .sidebar-menu a.active {
            background: rgba(255,255,255,0.15);
            border-left-color: var(--accent);
            font-weight: bold;
        }

        .sidebar-menu i {
            width: 20px;
            margin-right: 10px;
        }

        /* Dashboard Content */
        .dashboard-content {
            padding: 30px;
            background: var(--white);
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .page-title {
            color: var(--dark);
            font-size: 28px;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent);
        }

        /* Statistiques */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: var(--light);
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid var(--primary);
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card h3 {
            margin: 0 0 15px 0;
            color: var(--dark);
            font-size: 18px;
        }

        .stat-number {
            font-size: 36px;
            font-weight: bold;
            color: var(--primary);
        }

        /* Cartes de contenu */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .content-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            position: relative;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid #eee;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.12);
        }

        .content-card h3 {
            color: var(--dark);
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .content-card p {
            color: var(--text);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        /* Boutons d'action */
        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn-action {
            padding: 8px 15px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn-edit {
            background: var(--info);
            color: white;
        }

        .btn-delete {
            background: var(--danger);
            color: white;
        }

        .btn-add {
            background: linear-gradient(135deg, var(--success), #2ecc71);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 20px;
            bottom: 20px;
            display: none;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(39, 174, 96, 0.3);
        }

        .btn-add:hover {
            background: linear-gradient(135deg, #219653, #27ae60);
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
        }

        .authenticated .btn-add {
            display: block;
        }

        /* ==================== À PROPOS ==================== */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }

        .about-img {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .about-img img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s;
        }

        .about-img:hover img {
            transform: scale(1.05);
        }

        /* ==================== GALERIE ==================== */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .gallery-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            aspect-ratio: 4/3;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }

        /* ==================== VIDÉOS ==================== */
        .video-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .video-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            aspect-ratio: 16/9;
        }

        .youtube-embed {
            position: relative;
            width: 100%;
            height: 100%;
            padding-bottom: 56.25%;
            overflow: hidden;
            background: #000;
        }

        .youtube-embed iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* ==================== PROJETS ==================== */
        .projects-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .project-card {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
        }

        .project-card:hover {
            transform: translateY(-10px);
        }

        .project-img {
            height: 200px;
            overflow: hidden;
        }

        .project-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .project-card:hover .project-img img {
            transform: scale(1.1);
        }

        .project-info {
            padding: 25px;
            background-color: var(--white);
        }

        /* ==================== PUBLICATIONS ==================== */
        .publications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .publication-card {
            background: var(--white);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
        }

        .publication-card:hover {
            transform: translateY(-5px);
        }

        .publication-header {
            padding: 20px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .publication-type {
            background: rgba(255, 255, 255, 0.2);
            padding: 3px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .publication-date {
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .publication-content {
            padding: 20px;
        }

        .publication-title {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--dark);
            font-weight: 600;
        }

        .publication-description {
            color: var(--text);
            font-size: 0.95rem;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .publication-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn-view, .btn-download {
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
        }

        .btn-view {
            background-color: var(--info);
            color: white;
        }

        .btn-download {
            background-color: var(--success);
            color: white;
        }

        .btn-view:hover, .btn-download:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        /* ==================== COMMENTAIRES ==================== */
        .comment-form {
            background: var(--white);
            padding: 25px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 40px;
        }

        .comment-form input,
        .comment-form textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .comment-form textarea {
            min-height: 120px;
            resize: vertical;
        }

        .comment-item {
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--accent);
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .comment-author {
            font-weight: bold;
            color: var(--primary);
        }

        .comment-date {
            font-size: 0.9rem;
            color: #666;
        }

        .comment-content {
            color: var(--text);
            line-height: 1.6;
        }

        .no-comments {
            text-align: center;
            padding: 40px;
            color: #666;
            font-style: italic;
        }

        /* ==================== CONTACT ==================== */
        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .contact-item {
            text-align: center;
            padding: 20px;
            background: var(--light);
            border-radius: 10px;
            transition: transform 0.3s;
        }

        .contact-item:hover {
            transform: translateY(-5px);
        }

        .contact-item i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        /* ==================== FOOTER ==================== */
        footer {
            background-color: var(--dark);
            color: var(--white);
            padding: 60px 0 30px;
        }

        .footer-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }

        .social-icons {
            display: flex;
            gap: 15px;
        }

        .social-icons a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: var(--white);
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        .social-icons a:hover {
            background-color: var(--accent);
            transform: translateY(-5px);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* ==================== PANELS ADMIN/WEBMASTER ==================== */
        .admin-overlay, .webmaster-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .admin-overlay.active, .webmaster-overlay.active {
            display: flex;
        }

        .admin-panel, .webmaster-panel {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow);
        }

        .admin-panel h3, .webmaster-panel h3 {
            text-align: center;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .admin-buttons, .webmaster-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .admin-btn, .webmaster-btn {
            background-color: var(--dark);
            color: white;
            border: none;
            padding: 12px 15px;
            border-radius: 5px;
            cursor: pointer;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .admin-btn:hover, .webmaster-btn:hover {
            background-color: var(--primary);
            transform: translateX(5px);
        }

        /* ==================== BOUTONS FLOTTANTS ==================== */
        .whatsapp-float {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: var(--whatsapp);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
            z-index: 1000;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(37, 211, 102, 0.4);
        }

        .login-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--admin);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1000;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .webmaster-btn-float {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: var(--webmaster);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1000;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .comments-btn {
            position: fixed;
            bottom: 140px;
            right: 20px;
            background-color: var(--info);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1000;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .media-library-btn {
            position: fixed;
            bottom: 80px;
            left: 20px;
            background-color: var(--primary);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1000;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            display: none;
        }

        .media-library-btn.active {
            display: flex;
        }

        .comments-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ==================== CONTENU ÉDITABLE ==================== */
        .edit-btn, .image-edit-btn, .add-section-btn, .add-item-btn, .remove-item-btn {
            position: absolute;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            z-index: 100;
            box-shadow: var(--shadow);
            transition: all 0.3s;
        }

        .edit-btn {
            top: 10px;
            right: 10px;
            width: 35px;
            height: 35px;
        }

        .image-edit-btn {
            top: 10px;
            left: 10px;
            width: 35px;
            height: 35px;
        }

        .add-section-btn {
            top: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
        }

        .add-item-btn {
            bottom: 10px;
            right: 10px;
            width: 35px;
            height: 35px;
        }

        .remove-item-btn {
            bottom: 10px;
            left: 10px;
            width: 35px;
            height: 35px;
            background-color: var(--danger);
        }

        .editable:hover .edit-btn,
        .image-editable:hover .image-edit-btn,
        .section-header:hover .add-section-btn,
        .gallery-item:hover .add-item-btn,
        .video-item:hover .add-item-btn,
        .project-card:hover .add-item-btn,
        .publication-card:hover .add-item-btn,
        .gallery-item:hover .remove-item-btn,
        .video-item:hover .remove-item-btn,
        .project-card:hover .remove-item-btn,
        .publication-card:hover .remove-item-btn {
            display: flex;
        }

        .edit-btn:hover,
        .image-edit-btn:hover,
        .add-section-btn:hover,
        .add-item-btn:hover {
            background-color: var(--secondary);
            transform: scale(1.1);
        }

        .remove-item-btn:hover {
            background-color: #d32f2f;
            transform: scale(1.1);
        }

        /* ==================== MESSAGES D'ALERTE ==================== */
        .alert {
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }

        .alert.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }

        .alert.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }

        /* ==================== MODALES ==================== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 768px) {
            .visitor-counter .container {
                flex-direction: column;
                gap: 5px;
            }
            
            .header-container {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }
            
            .hero {
                padding: 120px 0 60px;
                margin-top: 95px;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
            }
            
            .footer-container {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .whatsapp-float {
                bottom: 70px;
                right: 15px;
            }
            
            .comments-btn {
                bottom: 130px;
                right: 15px;
            }
            
            .login-btn {
                bottom: 15px;
                right: 15px;
            }
            
            .webmaster-btn-float {
                bottom: 70px;
                left: 15px;
            }
            
            .media-library-btn {
                bottom: 130px;
                left: 15px;
            }
            
            .dashboard-container {
                grid-template-columns: 1fr;
            }
            
            .dashboard-sidebar {
                border-radius: 0;
                padding: 20px 0;
            }
            
            .auth-bar {
                flex-direction: column;
                gap: 10px;
                padding: 15px;
            }
            
            .auth-form {
                flex-direction: column;
                width: 100%;
            }
            
            .auth-form input {
                width: 100%;
            }
            
            .user-info {
                flex-direction: column;
                gap: 10px;
            }
        }

        @media (max-width: 480px) {
            .visitor-counter {
                font-size: 0.75rem;
            }
            
            .language-switcher {
                top: 40px;
                right: 10px;
            }
            
            .logo-text h1 {
                font-size: 1.3rem;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ==================== RTL SUPPORT ==================== */
        body.rtl {
            direction: rtl;
            text-align: right;
        }

        body.rtl .logo {
            flex-direction: row-reverse;
        }
        
        body.rtl nav ul {
            flex-direction: row-reverse;
        }
        
        body.rtl .edit-btn {
            left: 10px;
            right: auto;
        }
        
        body.rtl .image-edit-btn {
            right: 10px;
            left: auto;
        }
        
        body.rtl .add-section-btn {
            left: 10px;
            right: auto;
        }
        
        body.rtl .add-item-btn {
            left: 10px;
            right: auto;
        }
        
        body.rtl .remove-item-btn {
            right: 10px;
            left: auto;
        }
        
        body.rtl .language-switcher {
            right: auto;
            left: 15px;
        }
        
        body.rtl .whatsapp-float {
            right: auto;
            left: 20px;
        }
        
        body.rtl .login-btn {
            right: auto;
            left: 20px;
        }
        
        body.rtl .webmaster-btn-float {
            left: auto;
            right: 20px;
        }
        
        body.rtl .media-library-btn {
            left: auto;
            right: 20px;
        }
        
        body.rtl .comments-btn {
            right: auto;
            left: 20px;
        }
        
        body.rtl .publication-actions {
            justify-content: flex-start;
        }
        
        body.rtl .stat-card {
            border-left: none;
            border-right: 4px solid var(--primary);
        }
        
        body.rtl .comment-item {
            border-left: none;
            border-right: 4px solid var(--accent);
        }
    </style>
</head>
<body>
    <!-- ==================== COMPTEUR VISITEURS ==================== -->
    <div class="visitor-counter" id="visitorCounter">
        <div class="container">
            <span id="visitorsLabel">Visiteurs: <span class="visitor-count" id="totalVisitors">0</span></span>
            <span id="onlineLabel">En ligne: <span class="visitor-count" id="onlineVisitors">0</span></span>
            <span id="lastVisitLabel">Dernière visite: <span id="lastVisit">--/--/---- --:--:--</span></span>
        </div>
    </div>

    <!-- ==================== BARRE D'AUTHENTIFICATION ==================== -->
    <div id="authBar" class="auth-bar">
        <div id="loginForm" class="auth-form">
            <input type="text" id="username" placeholder="Nom d'utilisateur" value="admin">
            <input type="password" id="password" placeholder="Mot de passe" value="123456">
            <button onclick="login()">Connexion</button>
            <small style="color: rgba(255,255,255,0.7); margin-left: 10px;">Test: admin / 123456</small>
        </div>
        <div id="userInfo" class="user-info hidden">
            <div>
                <span id="userName">Utilisateur</span>
                <span id="userRole" class="user-role">Admin</span>
            </div>
            <button id="logoutBtn" class="logout-btn" onclick="logout()">Déconnexion</button>
        </div>
    </div>

    <!-- ==================== SÉLECTEUR DE LANGUE ==================== -->
    <div class="language-switcher">
        <button class="lang-btn active" onclick="changeLanguage('fr')">
            <i class="fas fa-flag"></i> FR
        </button>
        <button class="lang-btn" onclick="changeLanguage('ar')">
            <i class="fas fa-star-and-crescent"></i> AR
        </button>
    </div>

    <!-- ==================== PANELS ADMIN/WEBMASTER ==================== -->
    <div class="admin-overlay" id="adminOverlay">
        <div class="admin-panel">
            <h3><i class="fas fa-user-shield"></i> Mode Administrateur</h3>
            <div class="admin-buttons">
                <button class="admin-btn" onclick="saveContent()">
                    <i class="fas fa-save"></i> Sauvegarder le contenu
                </button>
                <button class="admin-btn" onclick="showMediaLibrary()">
                    <i class="fas fa-images"></i> Bibliothèque média
                </button>
                <button class="admin-btn" onclick="scrollToSection('comments')">
                    <i class="fas fa-comments"></i> Gérer les commentaires
                </button>
                <button class="admin-btn" onclick="showUserManagement()">
                    <i class="fas fa-users"></i> Gestion des utilisateurs
                </button>
                <button class="admin-btn" onclick="showChangePasswordModal('admin')">
                    <i class="fas fa-key"></i> Changer mot de passe
                </button>
                <button class="admin-btn" onclick="logoutAdmin()" style="background-color: var(--danger); margin-top: 20px;">
                    <i class="fas fa-sign-out-alt"></i> Déconnexion
                </button>
            </div>
            <button class="btn" onclick="hideAdminPanel()" style="width: 100%; margin-top: 20px; background-color: var(--dark);">
                <i class="fas fa-times"></i> Fermer
            </button>
        </div>
    </div>

    <div class="webmaster-overlay" id="webmasterOverlay">
        <div class="webmaster-panel">
            <h3><i class="fas fa-user-cog"></i> Mode Webmaster</h3>
            <div class="webmaster-buttons">
                <button class="webmaster-btn" onclick="showMediaLibrary()">
                    <i class="fas fa-images"></i> Bibliothèque média
                </button>
                <button class="webmaster-btn" onclick="showUploadModal()">
                    <i class="fas fa-cloud-upload-alt"></i> Uploader fichiers
                </button>
                <button class="webmaster-btn" onclick="scrollToSection('comments')">
                    <i class="fas fa-comments"></i> Modérer commentaires
                </button>
                <button class="webmaster-btn" onclick="showChangePasswordModal('webmaster')">
                    <i class="fas fa-key"></i> Changer mot de passe
                </button>
                <button class="webmaster-btn" onclick="logoutWebmaster()" style="background-color: var(--danger); margin-top: 20px;">
                    <i class="fas fa-sign-out-alt"></i> Déconnexion
                </button>
            </div>
            <button class="btn" onclick="hideWebmasterPanel()" style="width: 100%; margin-top: 20px; background-color: var(--dark);">
                <i class="fas fa-times"></i> Fermer
            </button>
        </div>
    </div>

    <!-- ==================== EN-TÊTE ==================== -->
    <header>
        <div class="container header-container">
            <div class="logo editable" data-id="logo">
                <i class="fas fa-hands-helping"></i>
                <div class="logo-text">
                    <h1 data-editable="true" data-id="siteTitle">ASSOCIATION ANSFAL</h1>
                    <p data-editable="true" data-id="siteSubtitle">Coopération, Développement & Environnement</p>
                </div>
                <button class="edit-btn" onclick="editText('siteTitle')">
                    <i class="fas fa-edit"></i>
                </button>
            </div>
            
            <nav>
                <ul id="mainMenu">
                    <li><a href="#home" class="active" id="navHome">Accueil</a></li>
                    <li><a href="#about" id="navAbout">À propos</a></li>
                    <li><a href="#gallery" id="navGallery">Galerie</a></li>
                    <li><a href="#videos" id="navVideos">Vidéos</a></li>
                    <li><a href="#projects" id="navProjects">Projets</a></li>
                    <li><a href="#publications" id="navPublications">Publications</a></li>
                    <li><a href="#comments" id="navComments">Commentaires</a></li>
                    <li><a href="#contact" id="navContact">Contact</a></li>
                    <li><a href="#dashboard" id="navDashboard">Dashboard</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- ==================== DASHBOARD SECTION ==================== -->
    <section id="dashboard" class="dashboard-section">
        <div class="dashboard-container">
            <!-- Sidebar du Dashboard -->
            <div class="dashboard-sidebar">
                <ul class="sidebar-menu" id="sidebarMenu">
                    <!-- Le menu sera rempli par JavaScript -->
                </ul>
            </div>

            <!-- Contenu du Dashboard -->
            <div class="dashboard-content">
                <h1 class="page-title" id="dashboardTitle">Tableau de Bord</h1>
                
                <!-- Message d'alerte -->
                <div id="dashboardAlert" class="alert hidden"></div>
                
                <!-- Statistiques Admin -->
                <div class="admin-stats">
                    <h2><i class="fas fa-chart-bar"></i> Statistiques</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3 id="stat1Title">Articles</h3>
                            <div class="stat-number">42</div>
                        </div>
                        <div class="stat-card">
                            <h3 id="stat2Title">Utilisateurs Actifs</h3>
                            <div class="stat-number">156</div>
                        </div>
                        <div class="stat-card">
                            <h3 id="stat3Title">Visites Quotidiennes</h3>
                            <div class="stat-number">2,843</div>
                        </div>
                        <div class="stat-card">
                            <h3 id="stat4Title">Nouveaux Commentaires</h3>
                            <div class="stat-number">17</div>
                        </div>
                    </div>
                </div>

                <!-- Contenu du Dashboard -->
                <div class="content-grid" id="dashboardContent">
                    <!-- Les cartes seront remplies par JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- ==================== SECTION HÉRO ==================== -->
    <section class="hero" id="home">
        <div class="container">
            <h2 class="editable" data-id="heroTitle" data-editable="true">ANSFAL</h2>
            <button class="edit-btn" onclick="editText('heroTitle')">
                <i class="fas fa-edit"></i>
            </button>
            
            <h3 class="editable" data-id="heroSubtitle" data-editable="true">Association pour la Coopération, le Développement et l'Environnement</h3>
            <button class="edit-btn" onclick="editText('heroSubtitle')">
                <i class="fas fa-edit"></i>
            </button>
            
            <p class="editable" data-id="heroText" data-editable="true">Œuvrant pour un développement durable, la coopération nationale et la protection de l'environnement depuis 2023.</p>
            <button class="edit-btn" onclick="editText('heroText')">
                <i class="fas fa-edit"></i>
            </button>
            
            <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 30px;">
                <a href="#projects" class="btn" id="btnDiscover">Découvrir nos actions</a>
                <a href="#gallery" class="btn" id="btnGallery" style="background-color: var(--info); border-color: var(--info);">
                    <i class="fas fa-images"></i> Galerie
                </a>
                <a href="#comments" class="btn" id="btnComments" style="background-color: var(--warning); border-color: var(--warning);" onclick="scrollToSection('comments')">
                    <i class="fas fa-comments"></i> Commentaires
                </a>
                <a href="#dashboard" class="btn" id="btnDashboard" style="background-color: var(--primary); border-color: var(--primary);" onclick="showDashboard()">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
            </div>
        </div>
    </section>

    <!-- ==================== À PROPOS ==================== -->
    <section class="about" id="about">
        <div class="container">
            <div class="section-header">
                <div class="section-title">
                    <h2 class="editable" data-id="aboutTitle" data-editable="true">À propos d'ANSFAL</h2>
                    <button class="edit-btn" onclick="editText('aboutTitle')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <button class="add-section-btn" onclick="addAboutItem()" title="Ajouter un élément">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <h3 class="editable" data-id="aboutSubtitle" data-editable="true">Notre histoire</h3>
                    <button class="edit-btn" onclick="editText('aboutSubtitle')">
                        <i class="fas fa-edit"></i>
                    </button>
                    
                    <p class="editable" data-id="aboutText1" data-editable="true">Fondée en 2023, l'Association ANSFAL POUR LA COOPÉRATION ET LE DÉVELOPPEMENT ET L'ENVIRONNEMENT est née de la conviction que le développement humain et la protection environnementale doivent aller de pair.</p>
                    <button class="edit-btn" onclick="editText('aboutText1')">
                        <i class="fas fa-edit"></i>
                    </button>
                    
                    <p class="editable" data-id="aboutText2" data-editable="true">Notre nom 'ANSFAL' symbolise notre engagement pour un avenir meilleur, basé sur la solidarité, le développement durable et la préservation de notre environnement.</p>
                    <button class="edit-btn" onclick="editText('aboutText2')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <div class="about-img image-editable" data-id="aboutImage">
                    <img src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80" alt="Équipe ANSFAL">
                    <button class="image-edit-btn" onclick="editImage('aboutImage')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================== GALERIE ==================== -->
    <section class="gallery" id="gallery">
        <div class="container">
            <div class="section-header">
                <div class="section-title">
                    <h2 class="editable" data-id="galleryTitle" data-editable="true">Galerie Photos</h2>
                    <button class="edit-btn" onclick="editText('galleryTitle')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <button class="add-section-btn" onclick="showImageUploadModal()" title="Ajouter une image">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            <div class="gallery-grid" id="galleryGrid">
                <div class="gallery-item image-editable" data-id="gallery1">
                    <img src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80" alt="Projet environnemental">
                    <button class="image-edit-btn" onclick="editImage('gallery1')">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="add-item-btn" onclick="showImageUploadModal()" title="Ajouter une image">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="remove-item-btn" onclick="removeGalleryItem('gallery1')" title="Supprimer cette image">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================== VIDÉOS ==================== -->
    <section class="videos" id="videos">
        <div class="container">
            <div class="section-header">
                <div class="section-title">
                    <h2 class="editable" data-id="videosTitle" data-editable="true">Vidéos</h2>
                    <button class="edit-btn" onclick="editText('videosTitle')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <button class="add-section-btn" onclick="showVideoUploadModal()" title="Ajouter une vidéo">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            <div class="video-container" id="videoContainer">
                <div class="video-item">
                    <div class="youtube-embed">
                        <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" allowfullscreen></iframe>
                    </div>
                    <button class="add-item-btn" onclick="showVideoUploadModal()" title="Ajouter une vidéo">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="remove-item-btn" onclick="removeVideoItem(this)" title="Supprimer cette vidéo">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================== PROJETS ==================== -->
    <section class="projects" id="projects">
        <div class="container">
            <div class="section-header">
                <div class="section-title">
                    <h2 class="editable" data-id="projectsTitle" data-editable="true">Nos Projets</h2>
                    <button class="edit-btn" onclick="editText('projectsTitle')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <button class="add-section-btn" onclick="showProjectUploadModal()" title="Ajouter un projet">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            <div class="projects-container" id="projectsContainer">
                <div class="project-card">
                    <div class="project-img image-editable" data-id="project1">
                        <img src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80" alt="Projet Environnement">
                        <button class="image-edit-btn" onclick="editImage('project1')">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                    <div class="project-info">
                        <h3 class="editable" data-id="projectTitle1" data-editable="true">Protection des Forêts</h3>
                        <button class="edit-btn" onclick="editText('projectTitle1')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <p class="editable" data-id="projectDesc1" data-editable="true">Campagne de reboisement et sensibilisation à la protection des écosystèmes forestiers.</p>
                        <button class="edit-btn" onclick="editText('projectDesc1')">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                    <button class="add-item-btn" onclick="showProjectUploadModal()" title="Ajouter un projet">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="remove-item-btn" onclick="removeProjectItem(this)" title="Supprimer ce projet">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================== PUBLICATIONS ==================== -->
    <section class="publications" id="publications">
        <div class="container">
            <div class="section-header">
                <div class="section-title">
                    <h2 class="editable" data-id="publicationsTitle" data-editable="true">Publications</h2>
                    <button class="edit-btn" onclick="editText('publicationsTitle')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <button class="add-section-btn" onclick="showPublicationUploadModal()" title="Ajouter une publication">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            <div class="publications-grid" id="publicationsGrid">
                <div class="publication-card">
                    <div class="publication-header">
                        <span class="publication-type">Rapport</span>
                        <span class="publication-date">15/03/2024</span>
                    </div>
                    <div class="publication-content">
                        <h3 class="publication-title editable" data-id="pubTitle1" data-editable="true">Rapport Annuel 2023</h3>
                        <button class="edit-btn" onclick="editText('pubTitle1')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <p class="publication-description editable" data-id="pubDesc1" data-editable="true">Bilan des activités et réalisations de l'association pour l'année 2023.</p>
                        <button class="edit-btn" onclick="editText('pubDesc1')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <div class="publication-actions">
                            <a href="#" class="btn-view">
                                <i class="fas fa-eye"></i> <span class="btn-view-text">Voir</span>
                            </a>
                            <a href="#" class="btn-download">
                                <i class="fas fa-download"></i> <span class="btn-download-text">Télécharger</span>
                            </a>
                        </div>
                    </div>
                    <button class="add-item-btn" onclick="showPublicationUploadModal()" title="Ajouter une publication">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="remove-item-btn" onclick="removePublicationItem(this)" title="Supprimer cette publication">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================== COMMENTAIRES ==================== -->
    <section class="comments-section" id="comments">
        <div class="container">
            <h2 class="editable" data-id="commentsTitle" data-editable="true">Commentaires</h2>
            <button class="edit-btn" onclick="editText('commentsTitle')">
                <i class="fas fa-edit"></i>
            </button>
            <div class="comment-form">
                <h3>Laissez un commentaire</h3>
                <input type="text" id="commentNameInput" placeholder="Votre nom">
                <textarea id="commentTextInput" placeholder="Votre commentaire"></textarea>
                <button class="btn" onclick="submitComment()" id="btnSubmitComment">Publier le commentaire</button>
            </div>
            <div class="comments-list" id="commentsList">
                <div class="no-comments">Aucun commentaire pour le moment. Soyez le premier à commenter!</div>
            </div>
        </div>
    </section>

    <!-- ==================== CONTACT ==================== -->
    <section class="contact" id="contact">
        <div class="container">
            <h2 class="editable" data-id="contactTitle" data-editable="true">Contactez-nous</h2>
            <button class="edit-btn" onclick="editText('contactTitle')">
                <i class="fas fa-edit"></i>
            </button>
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <h3>Adresse</h3>
                    <p class="editable" data-id="contactAddress" data-editable="true">Maroc</p>
                    <button class="edit-btn" onclick="editText('contactAddress')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <h3>Téléphone</h3>
                    <p class="editable" data-id="contactPhone" data-editable="true">+212 6 12 34 56 78</p>
                    <button class="edit-btn" onclick="editText('contactPhone')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <h3>Email</h3>
                    <p class="editable" data-id="contactEmail" data-editable="true">contact@ansfal.org</p>
                    <button class="edit-btn" onclick="editText('contactEmail')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================== FOOTER ==================== -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-logo">
                    <div class="logo">
                        <i class="fas fa-hands-helping"></i>
                        <div class="logo-text">
                            <h3 style="color: white;">ANSFAL</h3>
                            <p style="color: rgba(255,255,255,0.8);">Coopération, Développement & Environnement</p>
                        </div>
                    </div>
                </div>
                <div class="footer-social">
                    <h4>Suivez-nous</h4>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2024 Association ANSFAL. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <!-- ==================== BOUTONS FLOTTANTS ==================== -->
    <a href="#" class="whatsapp-float" id="whatsappBtn">
        <i class="fab fa-whatsapp"></i>
    </a>

    <button class="media-library-btn" id="mediaLibraryBtn" onclick="showMediaLibrary()">
        <i class="fas fa-images"></i>
    </button>

    <button class="comments-btn" id="commentsBtn" onclick="scrollToSection('comments')">
        <i class="fas fa-comments"></i>
        <span class="comments-badge"></span>
    </button>

    <button class="login-btn" id="loginBtn" onclick="showLoginModal()">
        <i class="fas fa-user-shield"></i>
    </button>

    <button class="webmaster-btn-float" id="webmasterBtn" onclick="showWebmasterLoginModal()">
        <i class="fas fa-user-cog"></i>
    </button>

    <!-- ==================== JAVASCRIPT ==================== -->
    <script>
        // Variables globales
        let isAdmin = false;
        let isWebmaster = false;
        let currentLanguage = 'fr';
        let contentData = {};
        let pendingComments = [];
        let approvedComments = [];
        let currentUser = null;
        
        // Traductions pour le dashboard
        const dashboardTranslations = {
            fr: {
                title: "Tableau de Bord",
                menu: ["Accueil", "Contenu", "Utilisateurs", "Paramètres", "Rapports", "Support"],
                stats: {
                    stat1: "Articles",
                    stat2: "Utilisateurs Actifs",
                    stat3: "Visites Quotidiennes",
                    stat4: "Nouveaux Commentaires"
                },
                content: [
                    {
                        title: "Articles de Blog",
                        description: "Gérez tous les articles de blog, créez de nouveaux articles, modifiez ou supprimez les articles existants."
                    },
                    {
                        title: "Galerie Photos",
                        description: "Gérez la galerie photos, téléchargez de nouvelles images, organisez les albums, optimisez les photos."
                    },
                    {
                        title: "Vidéos",
                        description: "Gérez la bibliothèque vidéo, téléchargez de nouvelles vidéos, créez des playlists."
                    },
                    {
                        title: "Utilisateurs",
                        description: "Gérez les comptes utilisateurs, les permissions, les groupes et les rapports d'activité."
                    },
                    {
                        title: "Commentaires",
                        description: "Examinez les commentaires, approuvez-les, répondez, ou supprimez les commentaires indésirables."
                    },
                    {
                        title: "Paramètres",
                        description: "Modifiez les paramètres du site, l'apparence, la langue, et les paramètres avancés."
                    }
                ],
                roles: {
                    admin: "Administrateur",
                    editor: "Éditeur",
                    user: "Utilisateur"
                }
            },
            ar: {
                title: "لوحة التحكم",
                menu: ["الرئيسية", "المحتوى", "المستخدمون", "الإعدادات", "التقارير", "الدعم"],
                stats: {
                    stat1: "عدد المقالات",
                    stat2: "المستخدمون النشطون",
                    stat3: "الزيارات اليومية",
                    stat4: "التعليقات الجديدة"
                },
                content: [
                    {
                        title: "مقالات المدونة",
                        description: "إدارة جميع مقالات المدونة، إنشاء مقالات جديدة، تعديل أو حذف المقالات الحالية."
                    },
                    {
                        title: "معرض الصور",
                        description: "إدارة معرض الصور، رفع صور جديدة، تنظيم الألبومات، تحسين الصور."
                    },
                    {
                        title: "الفيديوهات",
                        description: "إدارة مكتبة الفيديو، رفع فيديوهات جديدة، إنشاء قوائم التشغيل."
                    },
                    {
                        title: "المستخدمون",
                        description: "إدارة حسابات المستخدمين، الصلاحيات، المجموعات، وتقارير النشاط."
                    },
                    {
                        title: "التعليقات",
                        description: "مراجعة التعليقات، الموافقة عليها، الرد، أو حذف التعليقات غير المرغوب فيها."
                    },
                    {
                        title: "الإعدادات",
                        description: "تعديل إعدادات الموقع، المظهر، اللغة، والإعدادات المتقدمة."
                    }
                ],
                roles: {
                    admin: "مدير النظام",
                    editor: "محرر",
                    user: "مستخدم"
                }
            }
        };

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Charger les données
            loadContentData();
            loadComments();
            updateVisitorCount();
            
            // Charger la langue
            const savedLang = localStorage.getItem('ansfal_language') || 'fr';
            changeLanguage(savedLang);
            
            // Vérifier les sessions
            checkAdminStatus();
            checkWebmasterStatus();
            
            // Vérifier l'authentification
            checkAuth();
            
            // Initialiser WhatsApp
            initWhatsApp();
            
            // Initialiser la navigation
            initNavigation();
            
            // Initialiser le dashboard
            initDashboard();
        });

        // ==================== GESTION DE L'AUTHENTIFICATION ====================
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username === 'admin' && password === '123456') {
                currentUser = {
                    username: username,
                    role: 'admin',
                    name: 'Administrateur ANSFAL'
                };
                
                localStorage.setItem('ansfal_user', JSON.stringify(currentUser));
                showUserInfo();
                showAlert('Connexion réussie !', 'success');
                
                // Afficher les boutons d'édition
                showEditButtons();
            } else if (username === 'editor' && password === '123456') {
                currentUser = {
                    username: username,
                    role: 'editor',
                    name: 'Éditeur ANSFAL'
                };
                
                localStorage.setItem('ansfal_user', JSON.stringify(currentUser));
                showUserInfo();
                showAlert('Connexion réussie !', 'success');
            } else {
                showAlert('Identifiants incorrects', 'error');
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('ansfal_user');
            hideUserInfo();
            showAlert('Déconnexion réussie', 'success');
            
            // Masquer les boutons d'édition
            hideEditButtons();
        }

        function checkAuth() {
            const userData = localStorage.getItem('ansfal_user');
            if (userData) {
                try {
                    currentUser = JSON.parse(userData);
                    showUserInfo();
                    
                    if (currentUser.role === 'admin') {
                        showEditButtons();
                    }
                } catch (e) {
                    console.error('Erreur de parsing user data:', e);
                }
            }
        }

        function showUserInfo() {
            if (currentUser) {
                document.getElementById('loginForm').classList.add('hidden');
                document.getElementById('userInfo').classList.remove('hidden');
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('userRole').textContent = dashboardTranslations[currentLanguage].roles[currentUser.role] || currentUser.role;
                
                // Activer les boutons d'ajout
                document.body.classList.add('authenticated');
            }
        }

        function hideUserInfo() {
            document.getElementById('loginForm').classList.remove('hidden');
            document.getElementById('userInfo').classList.add('hidden');
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            
            // Désactiver les boutons d'ajout
            document.body.classList.remove('authenticated');
        }

        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert ${type}`;
            alertDiv.textContent = message;
            alertDiv.style.position = 'fixed';
            alertDiv.style.top = '100px';
            alertDiv.style.right = '20px';
            alertDiv.style.zIndex = '9999';
            alertDiv.style.maxWidth = '300px';
            
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }

        // ==================== DASHBOARD FUNCTIONS ====================
        function initDashboard() {
            updateDashboardLanguage();
        }

        function showDashboard() {
            // Cacher toutes les sections du site
            document.querySelectorAll('section:not(.dashboard-section)').forEach(section => {
                section.style.display = 'none';
            });
            
            // Afficher le dashboard
            document.getElementById('dashboard').classList.add('active');
            
            // Mettre à jour le menu de navigation
            document.querySelectorAll('#mainMenu a').forEach(a => a.classList.remove('active'));
            document.querySelector('#navDashboard').classList.add('active');
            
            // Mettre à jour le titre de la page
            document.title = dashboardTranslations[currentLanguage].title + ' - ANSFAL';
            
            // Faire défiler vers le haut
            window.scrollTo(0, 0);
        }

        function hideDashboard() {
            // Afficher toutes les sections du site
            document.querySelectorAll('section').forEach(section => {
                section.style.display = 'block';
            });
            
            // Cacher le dashboard
            document.getElementById('dashboard').classList.remove('active');
            
            // Mettre à jour le titre de la page
            document.title = 'ANSFAL - Association pour la Coopération, le Développement et l\'Environnement';
        }

        function updateDashboardLanguage() {
            const t = dashboardTranslations[currentLanguage];
            
            // Mettre à jour le titre du dashboard
            document.getElementById('dashboardTitle').textContent = t.title;
            
            // Mettre à jour les statistiques
            document.getElementById('stat1Title').textContent = t.stats.stat1;
            document.getElementById('stat2Title').textContent = t.stats.stat2;
            document.getElementById('stat3Title').textContent = t.stats.stat3;
            document.getElementById('stat4Title').textContent = t.stats.stat4;
            
            // Mettre à jour le menu sidebar
            const sidebarMenu = document.getElementById('sidebarMenu');
            sidebarMenu.innerHTML = '';
            
            t.menu.forEach((item, index) => {
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = '#';
                a.innerHTML = `<i class="fas fa-${getMenuIcon(index)}"></i> ${item}`;
                a.className = index === 0 ? 'active' : '';
                a.onclick = (e) => {
                    e.preventDefault();
                    document.querySelectorAll('#sidebarMenu a').forEach(a => a.classList.remove('active'));
                    a.classList.add('active');
                    document.getElementById('dashboardTitle').textContent = item;
                    loadDashboardContent(item);
                };
                li.appendChild(a);
                sidebarMenu.appendChild(li);
            });
            
            // Mettre à jour le contenu du dashboard
            const dashboardContent = document.getElementById('dashboardContent');
            dashboardContent.innerHTML = '';
            
            t.content.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'content-card';
                card.innerHTML = `
                    <h3>${item.title}</h3>
                    <p>${item.description}</p>
                    <button class="btn-add" onclick="addContent('${item.title}')">+</button>
                `;
                dashboardContent.appendChild(card);
            });
        }

        function getMenuIcon(index) {
            const icons = ['home', 'file-alt', 'users', 'cog', 'chart-bar', 'headset'];
            return icons[index] || 'circle';
        }

        function loadDashboardContent(section) {
            // Simuler le chargement de contenu
            const dashboardContent = document.getElementById('dashboardContent');
            dashboardContent.innerHTML = `<p>Chargement du contenu pour: ${section}...</p>`;
            
            setTimeout(() => {
                const t = dashboardTranslations[currentLanguage];
                dashboardContent.innerHTML = '';
                
                t.content.forEach((item, index) => {
                    const card = document.createElement('div');
                    card.className = 'content-card';
                    card.innerHTML = `
                        <h3>${item.title}</h3>
                        <p>${item.description}</p>
                        <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editDashboardItem('${item.title}')">
                                <i class="fas fa-edit"></i> Modifier
                            </button>
                            <button class="btn-action btn-delete" onclick="deleteDashboardItem('${item.title}')">
                                <i class="fas fa-trash"></i> Supprimer
                            </button>
                        </div>
                    `;
                    dashboardContent.appendChild(card);
                });
            }, 500);
        }

        function editDashboardItem(title) {
            const newTitle = prompt('Modifier le titre:', title);
            if (newTitle && newTitle !== title) {
                showAlert(`Titre modifié: "${title}" → "${newTitle}"`, 'success');
            }
        }

        function deleteDashboardItem(title) {
            if (confirm(`Êtes-vous sûr de vouloir supprimer "${title}" ?`)) {
                showAlert(`"${title}" supprimé`, 'success');
            }
        }

        // ==================== GESTION DES LANGUES ====================
        function changeLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('ansfal_language', lang);
            
            // Mettre à jour les boutons de langue
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.lang-btn[onclick="changeLanguage('${lang}')"]`).classList.add('active');
            
            // Appliquer la direction
            if (lang === 'ar') {
                document.body.classList.add('rtl');
            } else {
                document.body.classList.remove('rtl');
            }
            
            // Traductions
            translatePage(lang);
            updateDashboardLanguage();
        }

        function translatePage(lang) {
            const translations = {
                'fr': {
                    // Navigation
                    'navHome': 'Accueil',
                    'navAbout': 'À propos',
                    'navGallery': 'Galerie',
                    'navVideos': 'Vidéos',
                    'navProjects': 'Projets',
                    'navPublications': 'Publications',
                    'navComments': 'Commentaires',
                    'navContact': 'Contact',
                    'navDashboard': 'Dashboard',
                    
                    // Hero
                    'heroTitle': 'ANSFAL',
                    'heroSubtitle': 'Association pour la Coopération, le Développement et l\'Environnement',
                    'heroText': 'Œuvrant pour un développement durable, la coopération nationale et la protection de l\'environnement depuis 2023.',
                    'btnDiscover': 'Découvrir nos actions',
                    
                    // About
                    'aboutTitle': 'À propos d\'ANSFAL',
                    'aboutSubtitle': 'Notre histoire',
                    'aboutText1': 'Fondée en 2023, l\'Association ANSFAL POUR LA COOPÉRATION ET LE DÉVELOPPEMENT ET L\'ENVIRONNEMENT est née de la conviction que le développement humain et la protection environnementale doivent aller de pair.',
                    'aboutText2': 'Notre nom \'ANSFAL\' symbolise notre engagement pour un avenir meilleur, basé sur la solidarité, le développement durable et la préservation de notre environnement.',
                    
                    // Sections
                    'galleryTitle': 'Galerie Photos',
                    'videosTitle': 'Vidéos',
                    'projectsTitle': 'Nos Projets',
                    'publicationsTitle': 'Publications',
                    'commentsTitle': 'Commentaires',
                    'contactTitle': 'Contactez-nous',
                    
                    // Projects
                    'projectTitle1': 'Protection des Forêts',
                    'projectDesc1': 'Campagne de reboisement et sensibilisation à la protection des écosystèmes forestiers.',
                    
                    // Publications
                    'pubTitle1': 'Rapport Annuel 2023',
                    'pubDesc1': 'Bilan des activités et réalisations de l\'association pour l\'année 2023.',
                    
                    // Contact
                    'contactAddress': 'Maroc',
                    'contactPhone': '+212 6 12 34 56 78',
                    'contactEmail': 'contact@ansfal.org',
                    
                    // Labels
                    'visitorsLabel': 'Visiteurs:',
                    'onlineLabel': 'En ligne:',
                    'lastVisitLabel': 'Dernière visite:',
                },
                'ar': {
                    // Navigation
                    'navHome': 'الرئيسية',
                    'navAbout': 'عن الجمعية',
                    'navGallery': 'المعرض',
                    'navVideos': 'فيديوهات',
                    'navProjects': 'المشاريع',
                    'navPublications': 'المنشورات',
                    'navComments': 'التعليقات',
                    'navContact': 'اتصل',
                    'navDashboard': 'لوحة التحكم',
                    
                    // Hero
                    'heroTitle': 'أنسفال',
                    'heroSubtitle': 'جمعية التعاون والتنمية والبيئة',
                    'heroText': 'تعمل من أجل التنمية المستدامة، والتعاون وحماية البيئة منذ 2023.',
                    'btnDiscover': 'اكتشف أنشطتنا',
                    
                    // About
                    'aboutTitle': 'عن أنسفال',
                    'aboutSubtitle': 'تاريخنا',
                    'aboutText1': 'تأسست في عام 2023، جمعية أنسفال للتعاون والتنمية والبيئة ولدت من قناعة بأن التنمية البشرية وحماية البيئة يجب أن يسيرا جنباً إلى جنب.',
                    'aboutText2': 'اسمنا \'أنسفال\' يرمز لالتزامنا بمستقبل أفضل، يقوم على التضامن والتنمية المستدامة والحفاظ على بيئتنا.',
                    
                    // Sections
                    'galleryTitle': 'معرض الصور',
                    'videosTitle': 'مقاطع الفيديو',
                    'projectsTitle': 'مشاريعنا',
                    'publicationsTitle': 'المنشورات',
                    'commentsTitle': 'التعليقات',
                    'contactTitle': 'اتصل بنا',
                    
                    // Projects
                    'projectTitle1': 'حماية الغابات',
                    'projectDesc1': 'حملة التشجير والتوعية بحماية النظم البيئية للغابات.',
                    
                    // Publications
                    'pubTitle1': 'التقرير السنوي 2023',
                    'pubDesc1': 'خلاصة أنشطة وإنجازات الجمعية لعام 2023.',
                    
                    // Contact
                    'contactAddress': 'المغرب',
                    'contactPhone': '212 6 12 34 56 78+',
                    'contactEmail': 'contact@ansfal.org',
                    
                    // Labels
                    'visitorsLabel': 'الزوار:',
                    'onlineLabel': 'متصل الآن:',
                    'lastVisitLabel': 'آخر زيارة:',
                }
            };
            
            // Appliquer les traductions
            Object.keys(translations[lang]).forEach(key => {
                const element = document.querySelector(`[data-id="${key}"]`);
                if (element) {
                    element.textContent = translations[lang][key];
                }
                
                // Boutons spéciaux
                if (key === 'btnDiscover') {
                    document.getElementById('btnDiscover').textContent = translations[lang][key];
                }
                
                // Navigation
                const navElement = document.getElementById(key);
                if (navElement) {
                    navElement.textContent = translations[lang][key];
                }
                
                // Labels du compteur
                if (key === 'visitorsLabel') {
                    document.getElementById('visitorsLabel').innerHTML = translations[lang][key] + ' <span class="visitor-count" id="totalVisitors">0</span>';
                }
                if (key === 'onlineLabel') {
                    document.getElementById('onlineLabel').innerHTML = translations[lang][key] + ' <span class="visitor-count" id="onlineVisitors">0</span>';
                }
                if (key === 'lastVisitLabel') {
                    document.getElementById('lastVisitLabel').innerHTML = translations[lang][key] + ' <span id="lastVisit">--/--/---- --:--:--</span>';
                }
            });
        }

        // ==================== GESTION DES VISITEURS ====================
        function updateVisitorCount() {
            // Simuler des données
            const total = localStorage.getItem('ansfal_total_visitors') || 319;
            const online = 1;
            const lastVisit = '24/12/2025 14:22:17';
            
            document.getElementById('totalVisitors').textContent = total;
            document.getElementById('onlineVisitors').textContent = online;
            document.getElementById('lastVisit').textContent = lastVisit;
        }

        // ==================== ÉDITION DU CONTENU ====================
        function editText(elementId) {
            const element = document.querySelector(`[data-id="${elementId}"]`);
            if (!element) return;
            
            const currentText = element.textContent;
            const promptText = currentLanguage === 'ar' ? 'تعديل النص:' : 'Modifier le texte:';
            const newText = prompt(promptText, currentText);
            
            if (newText !== null && newText !== currentText) {
                element.textContent = newText;
                saveContentToStorage(elementId, newText);
            }
        }

        function editImage(elementId) {
            const promptText = currentLanguage === 'ar' ? 'أدخل رابط الصورة:' : 'Entrez l\'URL de l\'image:';
            const url = prompt(promptText);
            if (url) {
                const element = document.querySelector(`[data-id="${elementId}"] img`);
                if (element) {
                    element.src = url;
                    saveContentToStorage(elementId + '_img', url);
                }
            }
        }

        function saveContentToStorage(id, content) {
            if (!contentData) contentData = {};
            contentData[id] = content;
            localStorage.setItem('ansfal_content', JSON.stringify(contentData));
        }

        function loadContentData() {
            const saved = localStorage.getItem('ansfal_content');
            if (saved) {
                try {
                    contentData = JSON.parse(saved);
                    Object.keys(contentData).forEach(id => {
                        if (id.endsWith('_img')) {
                            const elementId = id.replace('_img', '');
                            const element = document.querySelector(`[data-id="${elementId}"] img`);
                            if (element) element.src = contentData[id];
                        } else {
                            const element = document.querySelector(`[data-id="${id}"]`);
                            if (element) element.textContent = contentData[id];
                        }
                    });
                } catch (e) {
                    console.error('Erreur chargement contenu:', e);
                }
            }
        }

        function saveContent() {
            // Sauvegarder tous les éléments éditables
            const editableElements = document.querySelectorAll('[data-editable="true"]');
            editableElements.forEach(element => {
                const id = element.dataset.id;
                if (id) {
                    contentData[id] = element.textContent;
                }
            });
            
            // Sauvegarder les images
            const imageElements = document.querySelectorAll('.image-editable img');
            imageElements.forEach(element => {
                const parent = element.closest('.image-editable');
                if (parent && parent.dataset.id) {
                    contentData[parent.dataset.id + '_img'] = element.src;
                }
            });
            
            localStorage.setItem('ansfal_content', JSON.stringify(contentData));
            showAlert(currentLanguage === 'ar' ? 'تم حفظ المحتوى!' : 'Contenu sauvegardé!', 'success');
        }

        // ==================== GESTION DE L'AFFICHAGE ====================
        function showAdminPanel() {
            document.getElementById('adminOverlay').classList.add('active');
            showEditButtons();
        }

        function hideAdminPanel() {
            document.getElementById('adminOverlay').classList.remove('active');
        }

        function showWebmasterPanel() {
            document.getElementById('webmasterOverlay').classList.add('active');
            document.getElementById('mediaLibraryBtn').classList.add('active');
            showUploadButtons();
            showUploadModal();
        }

        function hideWebmasterPanel() {
            document.getElementById('webmasterOverlay').classList.remove('active');
        }

        function showEditButtons() {
            document.querySelectorAll('.edit-btn, .image-edit-btn, .add-section-btn, .add-item-btn, .remove-item-btn').forEach(btn => {
                btn.style.display = 'flex';
            });
        }

        function hideEditButtons() {
            if (!isAdmin && !isWebmaster) {
                document.querySelectorAll('.edit-btn, .image-edit-btn, .add-section-btn, .add-item-btn, .remove-item-btn').forEach(btn => {
                    btn.style.display = 'none';
                });
            }
        }

        function showUploadButtons() {
            document.querySelectorAll('.add-section-btn, .add-item-btn, .remove-item-btn').forEach(btn => {
                btn.style.display = 'flex';
            });
        }

        // ==================== FONCTIONS D'AJOUT ====================
        function showImageUploadModal() {
            const url = prompt(currentLanguage === 'ar' ? 'أدخل رابط الصورة:' : 'Entrez l\'URL de l\'image:', 'https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80');
            if (url) {
                addGalleryItem(url);
            }
        }

        function addGalleryItem(url) {
            const galleryGrid = document.getElementById('galleryGrid');
            const newId = 'gallery' + Date.now();
            
            const newItem = document.createElement('div');
            newItem.className = 'gallery-item image-editable';
            newItem.setAttribute('data-id', newId);
            newItem.innerHTML = `
                <img src="${url}" alt="Image">
                <button class="image-edit-btn" onclick="editImage('${newId}')">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="add-item-btn" onclick="showImageUploadModal()" title="${currentLanguage === 'ar' ? 'إضافة صورة' : 'Ajouter une image'}">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="remove-item-btn" onclick="removeGalleryItem('${newId}')" title="${currentLanguage === 'ar' ? 'حذف هذه الصورة' : 'Supprimer cette image'}">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            galleryGrid.appendChild(newItem);
            saveContent();
        }

        function removeGalleryItem(id) {
            if (confirm(currentLanguage === 'ar' ? 'هل تريد حذف هذه الصورة؟' : 'Voulez-vous supprimer cette image?')) {
                const element = document.querySelector(`[data-id="${id}"]`);
                if (element) element.remove();
                saveContent();
            }
        }

        function showVideoUploadModal() {
            const url = prompt(currentLanguage === 'ar' ? 'أدخل رابط فيديو YouTube:' : 'Entrez l\'URL de la vidéo YouTube:', 'https://www.youtube.com/embed/dQw4w9WgXcQ');
            if (url) {
                addVideoItem(url);
            }
        }

        function addVideoItem(url) {
            const videoContainer = document.getElementById('videoContainer');
            
            const newItem = document.createElement('div');
            newItem.className = 'video-item';
            newItem.innerHTML = `
                <div class="youtube-embed">
                    <iframe src="${url}" allowfullscreen></iframe>
                </div>
                <button class="add-item-btn" onclick="showVideoUploadModal()" title="${currentLanguage === 'ar' ? 'إضافة فيديو' : 'Ajouter une vidéo'}">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="remove-item-btn" onclick="removeVideoItem(this)" title="${currentLanguage === 'ar' ? 'حذف هذا الفيديو' : 'Supprimer cette vidéo'}">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            videoContainer.appendChild(newItem);
        }

        function removeVideoItem(button) {
            if (confirm(currentLanguage === 'ar' ? 'هل تريد حذف هذا الفيديو؟' : 'Voulez-vous supprimer cette vidéo?')) {
                button.closest('.video-item').remove();
            }
        }

        function showProjectUploadModal() {
            const title = prompt(currentLanguage === 'ar' ? 'أدخل عنوان المشروع:' : 'Entrez le titre du projet:', 'Nouveau projet');
            if (!title) return;
            
            const description = prompt(currentLanguage === 'ar' ? 'أدخل وصف المشروع:' : 'Entrez la description du projet:', 'Description du projet');
            if (!description) return;
            
            const imageUrl = prompt(currentLanguage === 'ar' ? 'أدخل رابط صورة المشروع:' : 'Entrez l\'URL de l\'image du projet:', 'https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80');
            if (!imageUrl) return;
            
            addProjectItem(title, description, imageUrl);
        }

        function addProjectItem(title, description, imageUrl) {
            const projectsContainer = document.getElementById('projectsContainer');
            const projectId = 'project' + Date.now();
            const titleId = 'projectTitle' + Date.now();
            const descId = 'projectDesc' + Date.now();
            const imgId = 'projectImg' + Date.now();
            
            const newItem = document.createElement('div');
            newItem.className = 'project-card';
            newItem.innerHTML = `
                <div class="project-img image-editable" data-id="${imgId}">
                    <img src="${imageUrl}" alt="${title}">
                    <button class="image-edit-btn" onclick="editImage('${imgId}')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <div class="project-info">
                    <h3 class="editable" data-id="${titleId}" data-editable="true">${title}</h3>
                    <button class="edit-btn" onclick="editText('${titleId}')">
                        <i class="fas fa-edit"></i>
                    </button>
                    <p class="editable" data-id="${descId}" data-editable="true">${description}</p>
                    <button class="edit-btn" onclick="editText('${descId}')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                <button class="add-item-btn" onclick="showProjectUploadModal()" title="${currentLanguage === 'ar' ? 'إضافة مشروع' : 'Ajouter un projet'}">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="remove-item-btn" onclick="removeProjectItem(this)" title="${currentLanguage === 'ar' ? 'حذف هذا المشروع' : 'Supprimer ce projet'}">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            projectsContainer.appendChild(newItem);
            saveContent();
        }

        function removeProjectItem(button) {
            if (confirm(currentLanguage === 'ar' ? 'هل تريد حذف هذا المشروع؟' : 'Voulez-vous supprimer ce projet?')) {
                button.closest('.project-card').remove();
                saveContent();
            }
        }

        function showPublicationUploadModal() {
            const title = prompt(currentLanguage === 'ar' ? 'أدخل عنوان المنشور:' : 'Entrez le titre de la publication:', 'Nouvelle publication');
            if (!title) return;
            
            const description = prompt(currentLanguage === 'ar' ? 'أدخل وصف المنشور:' : 'Entrez la description de la publication:', 'Description de la publication');
            if (!description) return;
            
            addPublicationItem(title, description);
        }

        function addPublicationItem(title, description) {
            const publicationsGrid = document.getElementById('publicationsGrid');
            const pubId = 'pub' + Date.now();
            const titleId = 'pubTitle' + Date.now();
            const descId = 'pubDesc' + Date.now();
            const date = new Date().toLocaleDateString();
            
            const newItem = document.createElement('div');
            newItem.className = 'publication-card';
            newItem.innerHTML = `
                <div class="publication-header">
                    <span class="publication-type">Rapport</span>
                    <span class="publication-date">${date}</span>
                </div>
                <div class="publication-content">
                    <h3 class="publication-title editable" data-id="${titleId}" data-editable="true">${title}</h3>
                    <button class="edit-btn" onclick="editText('${titleId}')">
                        <i class="fas fa-edit"></i>
                    </button>
                    <p class="publication-description editable" data-id="${descId}" data-editable="true">${description}</p>
                    <button class="edit-btn" onclick="editText('${descId}')">
                        <i class="fas fa-edit"></i>
                    </button>
                    <div class="publication-actions">
                        <a href="#" class="btn-view">
                            <i class="fas fa-eye"></i> <span class="btn-view-text">${currentLanguage === 'ar' ? 'عرض' : 'Voir'}</span>
                        </a>
                        <a href="#" class="btn-download">
                            <i class="fas fa-download"></i> <span class="btn-download-text">${currentLanguage === 'ar' ? 'تحميل' : 'Télécharger'}</span>
                        </a>
                    </div>
                </div>
                <button class="add-item-btn" onclick="showPublicationUploadModal()" title="${currentLanguage === 'ar' ? 'إضافة منشور' : 'Ajouter une publication'}">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="remove-item-btn" onclick="removePublicationItem(this)" title="${currentLanguage === 'ar' ? 'حذف هذا المنشور' : 'Supprimer cette publication'}">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            publicationsGrid.appendChild(newItem);
            saveContent();
        }

        function removePublicationItem(button) {
            if (confirm(currentLanguage === 'ar' ? 'هل تريد حذف هذا المنشور؟' : 'Voulez-vous supprimer cette publication?')) {
                button.closest('.publication-card').remove();
                saveContent();
            }
        }

        function addAboutItem() {
            const text = prompt(currentLanguage === 'ar' ? 'أدخل نصًا جديدًا:' : 'Entrez un nouveau texte:');
            if (text) {
                const aboutText = document.querySelector('.about-text');
                const paraId = 'aboutText' + Date.now();
                
                const newPara = document.createElement('p');
                newPara.className = 'editable';
                newPara.setAttribute('data-id', paraId);
                newPara.setAttribute('data-editable', 'true');
                newPara.textContent = text;
                
                const editBtn = document.createElement('button');
                editBtn.className = 'edit-btn';
                editBtn.innerHTML = '<i class="fas fa-edit"></i>';
                editBtn.onclick = () => editText(paraId);
                
                newPara.appendChild(editBtn);
                aboutText.appendChild(newPara);
                saveContent();
            }
        }

        // ==================== GESTION DES COMMENTAIRES ====================
        function submitComment() {
            const nameInput = document.getElementById('commentNameInput');
            const textInput = document.getElementById('commentTextInput');
            
            const name = nameInput.value.trim();
            const text = textInput.value.trim();
            
            if (!name || !text) {
                alert(currentLanguage === 'ar' ? 'يرجى إدخال اسمك وتعليقك' : 'Veuillez entrer votre nom et votre commentaire');
                return;
            }
            
            const comment = {
                id: Date.now(),
                name: name,
                text: text,
                date: new Date().toLocaleString(),
                approved: true
            };
            
            approvedComments.push(comment);
            saveComments();
            
            nameInput.value = '';
            textInput.value = '';
            
            renderComments();
            showAlert(currentLanguage === 'ar' ? 'شكراً لتعليقك!' : 'Merci pour votre commentaire!', 'success');
        }

        function loadComments() {
            const saved = localStorage.getItem('ansfal_comments');
            if (saved) {
                try {
                    const commentsData = JSON.parse(saved);
                    pendingComments = commentsData.pending || [];
                    approvedComments = commentsData.approved || [];
                } catch (e) {
                    console.error('Erreur chargement commentaires:', e);
                }
            }
        }

        function saveComments() {
            const commentsData = {
                pending: pendingComments,
                approved: approvedComments
            };
            localStorage.setItem('ansfal_comments', JSON.stringify(commentsData));
        }

        function renderComments() {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '';
            
            if (approvedComments.length === 0) {
                commentsList.innerHTML = '<div class="no-comments">' + (currentLanguage === 'ar' ? 'لا توجد تعليقات بعد. كن أول من يعلق!' : 'Aucun commentaire pour le moment. Soyez le premier à commenter!') + '</div>';
                return;
            }
            
            approvedComments.forEach(comment => {
                const commentItem = document.createElement('div');
                commentItem.className = 'comment-item';
                commentItem.innerHTML = `
                    <div class="comment-header">
                        <div class="comment-author">${comment.name}</div>
                        <div class="comment-date">${comment.date}</div>
                    </div>
                    <div class="comment-content">${comment.text}</div>
                `;
                commentsList.appendChild(commentItem);
            });
        }

        // ==================== AUTHENTIFICATION ADMIN/WEBMASTER ====================
        function showLoginModal() {
            const password = prompt(currentLanguage === 'ar' ? 'كلمة مرور المدير:' : 'Mot de passe administrateur:');
            if (password === 'admin123') {
                isAdmin = true;
                localStorage.setItem('ansfal_admin_logged_in', 'true');
                showAdminPanel();
                showAlert(currentLanguage === 'ar' ? 'تم تسجيل الدخول!' : 'Connexion réussie!', 'success');
            } else {
                alert(currentLanguage === 'ar' ? 'كلمة المرور غير صحيحة!' : 'Mot de passe incorrect!');
            }
        }

        function showWebmasterLoginModal() {
            const password = prompt(currentLanguage === 'ar' ? 'كلمة مرور ويبماستر:' : 'Mot de passe webmaster:');
            if (password === 'web123') {
                isWebmaster = true;
                localStorage.setItem('ansfal_webmaster_logged_in', 'true');
                showWebmasterPanel();
                showAlert(currentLanguage === 'ar' ? 'تم تسجيل الدخول!' : 'Connexion réussie!', 'success');
            } else {
                alert(currentLanguage === 'ar' ? 'كلمة المرور غير صحيحة!' : 'Mot de passe incorrect!');
            }
        }

        function checkAdminStatus() {
            if (localStorage.getItem('ansfal_admin_logged_in') === 'true') {
                isAdmin = true;
                showEditButtons();
            }
        }

        function checkWebmasterStatus() {
            if (localStorage.getItem('ansfal_webmaster_logged_in') === 'true') {
                isWebmaster = true;
                document.getElementById('mediaLibraryBtn').classList.add('active');
                showUploadButtons();
            }
        }

        function logoutAdmin() {
            isAdmin = false;
            localStorage.removeItem('ansfal_admin_logged_in');
            hideEditButtons();
            hideAdminPanel();
            showAlert(currentLanguage === 'ar' ? 'تم تسجيل الخروج!' : 'Déconnexion réussie!', 'info');
        }

        function logoutWebmaster() {
            isWebmaster = false;
            localStorage.removeItem('ansfal_webmaster_logged_in');
            document.getElementById('mediaLibraryBtn').classList.remove('active');
            hideUploadButtons();
            hideWebmasterPanel();
            showAlert(currentLanguage === 'ar' ? 'تم تسجيل الخروج!' : 'Déconnexion réussie!', 'info');
        }

        // ==================== FONCTIONS UTILITAIRES ====================
        function initWhatsApp() {
            document.getElementById('whatsappBtn').href = 'https://wa.me/212612345678';
            document.getElementById('whatsappBtn').target = '_blank';
        }

        function initNavigation() {
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href.startsWith('#')) {
                        e.preventDefault();
                        const targetId = href.substring(1);
                        
                        // Gestion spéciale pour le dashboard
                        if (targetId === 'dashboard') {
                            showDashboard();
                            return;
                        }
                        
                        // Pour les autres sections, cacher le dashboard
                        hideDashboard();
                        
                        // Navigation normale
                        const targetElement = document.getElementById(targetId);
                        if (targetElement) {
                            // Mettre à jour le menu actif
                            document.querySelectorAll('#mainMenu a').forEach(a => a.classList.remove('active'));
                            this.classList.add('active');
                            
                            // Faire défiler vers la section
                            window.scrollTo({
                                top: targetElement.offsetTop - 100,
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });
        }

        function scrollToSection(sectionId) {
            hideDashboard();
            
            const targetElement = document.getElementById(sectionId);
            if (targetElement) {
                // Mettre à jour le menu actif
                document.querySelectorAll('#mainMenu a').forEach(a => a.classList.remove('active'));
                document.querySelector(`a[href="#${sectionId}"]`).classList.add('active');
                
                // Faire défiler vers la section
                window.scrollTo({
                    top: targetElement.offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        }

        function showMediaLibrary() {
            alert(currentLanguage === 'ar' ? 'مكتبة الوسائط - ستتم إضافتها قريبًا' : 'Bibliothèque média - À implémenter prochainement');
        }

        function showUserManagement() {
            alert(currentLanguage === 'ar' ? 'إدارة المستخدمين - ستتم إضافتها قريبًا' : 'Gestion des utilisateurs - À implémenter prochainement');
        }

        function showChangePasswordModal(role) {
            const newPass = prompt(currentLanguage === 'ar' ? 'كلمة المرور الجديدة:' : 'Nouveau mot de passe:');
            if (newPass) {
                alert((currentLanguage === 'ar' ? 'تم تغيير كلمة المرور!' : 'Mot de passe changé!'));
            }
        }

        function showUploadModal() {
            alert(currentLanguage === 'ar' ? 'نافذة الرفع - ستتم إضافتها قريبًا' : 'Fenêtre d\'upload - À implémenter prochainement');
        }

        // Initialiser les commentaires
        loadComments();
        renderComments();

    </script>
</body>
</html>
